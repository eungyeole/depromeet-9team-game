(this["webpackJsonp@liar/frontend"]=this["webpackJsonp@liar/frontend"]||[]).push([[0],{142:function(n,e,t){"use strict";t.r(e);var c,r,a=t(0),i=t.n(a),o=t(75),s=t.n(o),l=t(8),u=t(19),p=Object(u.b)(c||(c=Object(l.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap');\n  *{\n    margin: 0;\n    padding: 0;\n    font-family: 'Noto Sans KR', sans-serif;\n    list-style: none;\n    box-sizing: border-box;\n  }\n  a{\n    text-decoration: none;\n  }\n  body{\n    margin: 0;\n    background: black;\n    color: white;\n  }\n"]))),b=t(37),d=t(5),j=t(39),x=t(49),f=t(11),m=t.n(f),h=t(33),O=t(13),g=t(17),v=t(1),w=function(){return Object(v.jsx)("svg",{version:"1.1",id:"L9",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100",enableBackground:"new 0 0 0 0",xmlSpace:"preserve",children:Object(v.jsx)("path",{fill:"#fff",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50",children:Object(v.jsx)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})})})},y=function(n){var e=n.topics,t=n.value,c=n.name,r=n.onChange;return Object(v.jsx)(k,{value:t,name:c,onChange:r,children:e.map((function(n,e){return Object(v.jsx)("option",{value:n,children:n},e)}))})},k=g.a.select(r||(r=Object(l.a)(["\n\n    & select {\n        display: none;\n    }\n"]))),N=t(76),S=t.n(N).a.create({baseURL:"http://211.38.86.92:8010",timeout:1e4});S.interceptors.request.use((function(n){return n}),(function(n){return Promise.reject(n)})),S.interceptors.response.use((function(n){return n}),(function(n){return Promise.reject(n)}));var _,C,T,z,E,R,I,L,F=S,J=function(n){return F({url:"/room",method:"POST",data:n})},P=function(){return F({url:"/topic",method:"GET"})},B=function(n){return F({url:"/chatroom/".concat(n),method:"GET"})},M=function(){var n=Object(a.useState)([]),e=Object(O.a)(n,2),t=e[0],c=e[1],r=Object(a.useState)(!1),i=Object(O.a)(r,2),o=i[0],s=i[1],l=Object(a.useState)({name:localStorage.name,topic:"\uc74c\uc2dd"}),u=Object(O.a)(l,2),p=u[0],b=u[1],f=Object(d.e)(),g=p.topic,k=p.name;Object(a.useEffect)((function(){Object(h.a)(m.a.mark((function n(){var e,t;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,P();case 2:e=n.sent,t=e.data,c(t.topics);case 5:case"end":return n.stop()}}),n)})))().then((function(n){return console.log(n)}))}),[]);var N=function(n){var e=n.target,t=e.name,c=e.value;"name"===t&&localStorage.setItem("name",c),b(Object(x.a)(Object(x.a)({},p),{},Object(j.a)({},t,c)))},S=function(){var n=Object(h.a)(m.a.mark((function n(e){var t,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!o){n.next=3;break}return n.abrupt("return");case 3:if(k){n.next=6;break}return alert("\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694!"),n.abrupt("return");case 6:return s(!0),n.prev=7,n.next=10,J(p);case 10:t=n.sent,c=t.data,f.push("/room/".concat(c)),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(7),alert("\uc2e4\ud328");case 18:s(!1);case 19:case"end":return n.stop()}}),n,null,[[7,15]])})));return function(e){return n.apply(this,arguments)}}();return Object(v.jsxs)(D,{children:[Object(v.jsxs)("div",{className:"title",children:[Object(v.jsxs)("div",{className:"title__name",children:["\ud83e\udd11 ",Object(v.jsx)("b",{children:"9\uc870"}),"\ub97c \ubc8c\uc5c8\uc870"]}),Object(v.jsx)("b",{children:"'\ub77c\uc774\uc5b4'"})," \uac8c\uc784\uc73c\ub85c \uce5c\ud574\uc9c0\uae38 \ubc14\ub77c",Object(v.jsx)("div",{children:"In \ub514\ud504\ub9cc"})]}),Object(v.jsxs)(V,{onSubmit:S,className:"",children:[Object(v.jsx)("input",{onChange:N,value:k,name:"name",placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."}),Object(v.jsx)(y,{value:g,name:"topic",topics:t,onChange:N}),Object(v.jsxs)("button",{type:"submit",children:[o&&Object(v.jsx)(w,{}),"\ubc29 \ub9cc\ub4e4\uae30"]}),Object(v.jsx)("button",{onClick:function(){if(k){var n=prompt("\ucd08\ub300\ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694: ");n&&f.push("/room/".concat(n))}else alert("\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud558\uc138\uc694!")},type:"button",className:"outer",children:"\ucd08\ub300\ucf54\ub4dc\ub85c \uc785\uc7a5"})]})]})},D=g.a.div(_||(_=Object(l.a)(["\n    padding-top: 80px;\n    & .title{\n        font-weight: 500;\n        font-size: 30px;\n        &__name{\n            font-weight: 700;\n            font-size: 50px;\n            \n        }\n        & b{\n            color: #38e3a8;\n        }\n    }\n"]))),V=g.a.form(C||(C=Object(l.a)(["\n    margin-top: 100px;\n    display: flex;\n    flex-direction: column;\n    & input{\n        outline: none;\n        border: 1px solid #38e3a8;\n        color: #38e3a8;\n        background: transparent;\n        padding: 10px;\n        &::placeholder{\n            color: #38e3a8;\n        }\n    }\n    & select{\n        outline: none;\n        margin-top: 10px;\n        width: 100px;\n        margin-left: auto;\n        border: 1px solid #38e3a8;\n        background: transparent;\n        color: #38e3a8;\n        padding: 5px;\n        border-radius: 5px;\n        cursor: pointer;\n    }\n    & button{\n        outline: none;\n        border: none;\n        display: flex;\n        background: transparent;\n        align-items: center;\n        height: 50px;\n        font-size: 14px;\n        justify-content: center;\n        cursor: pointer;\n        border: 1px solid #38e3a8;\n        background:#38e3a8;\n        margin: 0 30px;\n        color: white;\n        left: 0;\n        border-radius: 5px;\n        margin-top: 20px;\n        width: calc( 100% - 60px );\n        & svg{\n            width: 30px;\n        }\n        transition: 0.3s;\n        position: absolute;\n        bottom: 100px;\n        &.outer{\n            background: transparent;\n            color: #38e3a8;\n            bottom: 30px;\n        }\n    }\n    \n"]))),X=t(80),G=t(78),K=t(79),q=t.n(K),A=t(144),U=function(n){var e=n.match,t=Object(a.useState)([]),c=Object(O.a)(t,2),r=c[0],i=c[1],o=Object(a.useState)(!1),s=Object(O.a)(o,2),l=s[0],u=s[1],p=Object(a.useState)(!1),b=Object(O.a)(p,2),j=b[0],x=b[1],f=Object(a.useState)(""),g=Object(O.a)(f,2),w=g[0],y=g[1],k=Object(a.useState)(""),N=Object(O.a)(k,2),S=N[0],_=N[1],C=Object(a.useRef)(null),T=Object(a.useState)([]),z=Object(O.a)(T,2),E=z[0],R=z[1],I=Object(d.e)(),L=e.params.code,F=localStorage.getItem("name");function J(){var n=new q.a("http://211.38.86.92:8010/websocket");C.current=A.a.over(n),C.current.connect({},P,(function(n){return console.log(n)}))}function P(){C.current.subscribe("/sub/chatroom/".concat(L),(function(n){var e=JSON.parse(n.body),t=e.type,c=e.message,r=e.memberResponses,a=e.userVoteResponseList,o=e.winner;if("JOIN"===t&&i((function(n){return[].concat(Object(X.a)(n),[c])})),"START"===t){u(!0),x(!0);var s=r.filter((function(n){return n.name===F}));_(s[0].subject)}"VOTE"===t&&R(a),"VOTE_END"===t&&(u(!1),_(""),y(""),R([]),alert("".concat(o,"\uc758 \uc2b9\ub9ac")))})),C.current.publish({destination:"/pub/chatroom/".concat(L),body:F})}function M(n){l&&y(n)}function D(n){var e=E.filter((function(e){return e.name===n}));return 0===e.length?0:e[0].count}return Object(a.useEffect)((function(){return!F&&I.push("/"),Object(h.a)(m.a.mark((function n(){var e,t;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B(L);case 2:e=n.sent,t=e.data,i(t),J();case 6:case"end":return n.stop()}}),n)})))(),function(){return C.current.disconnect()}}),[]),Object(a.useEffect)((function(){w&&C.current.publish({destination:"/pub/vote/".concat(L),body:JSON.stringify({username:F,suspendName:w})})}),[w]),Object(v.jsxs)(v.Fragment,{children:[j&&Object(v.jsxs)(Z,{subject:S,children:[Object(v.jsx)("div",{className:"close",onClick:function(){return x(!1)},children:"X"}),Object(v.jsx)("div",{className:"title__sub",children:"\uc81c\uc2dc\uc5b4"}),S&&Object(v.jsx)("div",{className:"title__main",children:S})]}),Object(v.jsxs)(H,{children:[Object(v.jsxs)("div",{className:"invite-code",children:["\ucd08\ub300\ucf54\ub4dc\ub294",Object(v.jsx)(G.CopyToClipboard,{text:L,onCopy:function(){return alert("\ubcf5\uc0ac\uc644\ub8cc!")},children:Object(v.jsx)("span",{children:L})}),"\uc785\ub2c8\ub2e4."]}),Object(v.jsxs)("div",{className:"list",children:[Object(v.jsxs)("div",{className:"list__title",children:["\uc811\uc18d \ud604\ud669 (",Object(v.jsxs)("span",{children:[" ",r.length," "]})," \uba85)"]}),Object(v.jsx)("ul",{className:"list__wrap",children:r.map((function(n,e){return w===n?Object(v.jsxs)("li",{className:"select",onClick:function(){return M(n)},children:[Object(v.jsx)("div",{className:"name",children:n}),Object(v.jsxs)("div",{className:"count",children:[D(n)," \ud45c"]})]},e):Object(v.jsxs)("li",{onClick:function(){return M(n)},children:[Object(v.jsx)("div",{className:"name",children:n}),Object(v.jsxs)("div",{className:"count",children:[D(n)," \ud45c"]})]},e)}))})]}),l?Object(v.jsx)(Q,{onClick:function(){C.current.publish({destination:"/pub/game/finish/".concat(L)})},children:"\ud22c\ud45c \uc885\ub8cc"}):Object(v.jsx)(Q,{onClick:function(){C.current.publish({destination:"/pub/game/".concat(L)})},children:"\uc2dc\uc791\ud558\uae30"})]})]})},H=g.a.div(T||(T=Object(l.a)(["\n    & .invite-code{\n        display: flex;\n        align-items: center;\n        & span{\n            margin: 0 10px;\n            font-size: 25px; \n            cursor: pointer;\n            color: #38e3a8;\n        }\n    }\n    & .list{\n        margin-top: 30px;\n        &__title{\n            font-size: 20px;\n            & span{\n                color: #38e3a8;\n            }\n        }\n        &__wrap{\n            margin-top: 10px;\n            display: flex;\n            flex-wrap: wrap;\n            & li {\n                display: flex;\n                align-items: center;\n                flex-direction: column;\n                justify-content: center;\n                border: 1px solid white;\n                margin: 10px;\n                height: 80px;\n                width: calc( 100%/3 - 20px );\n                cursor: pointer;\n                &.select{\n                    border: 1px solid #38e3a8;\n                    color: #38e3a8;\n                    \n                }\n                & .count{\n                    font-size: 12px;\n                }\n            }\n        }\n\n    }\n"]))),Q=g.a.div(z||(z=Object(l.a)(["\n    display: flex;\n    align-items: center;\n    height: 50px;\n    margin: 0 30px;\n    justify-content: center;\n    cursor: pointer;\n    left: 0;\n    border: 1px solid #38e3a8;\n    color: #38e3a8;\n    border-radius: 5px;\n    margin-top: 10px;\n    position: absolute;\n    width: calc( 100% - 60px );\n    bottom: 30px;\n    transition: 0.3s;\n    &:hover{\n        background: #38e3a8;\n        color: white;\n    }\n"]))),W=Object(u.c)(E||(E=Object(l.a)(["\n    from {\n        height: 0%;\n    }\n    to {\n        height: 100%;\n    }\n"]))),Y=Object(u.c)(R||(R=Object(l.a)(["\n    from {\n        opacity: 0;\n    }\n    to {\n        opacity: 1;\n    }\n"]))),Z=g.a.div(I||(I=Object(l.a)(["\n    position: fixed;\n    background: ",";\n    left: 0;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    z-index: 99;\n    animation: "," 1.5s ease;\n    & .title{\n        &__sub{\n            animation: "," 3s ease;\n            font-size: 25px;\n            font-weight: regular;\n        }\n        &__main{\n            animation: "," 3s ease;\n            font-size: 80px;\n            font-weight: bold;\n        }\n    }\n    & .close{\n        position: absolute;\n        right: 10px;\n        top: 10px;\n        width: 45px;\n        height: 45px;\n        font-size: 20px;\n        border-radius: 50%;\n        border: 1px solid white;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n    }\n"])),(function(n){return"lier"===n.subject?"#ff6f6e":"#38e3a8"}),W,Y,Y);var $=function(){return Object(v.jsxs)(nn,{children:[Object(v.jsx)(u.a,{styles:p}),Object(v.jsxs)(b.a,{children:[Object(v.jsx)(d.a,{path:"/room/:code",component:U,exact:!0}),Object(v.jsx)(d.a,{path:"/",component:M,exact:!0})]})]})},nn=g.a.div(L||(L=Object(l.a)(["\n  margin: 0 auto;\n  max-width: 512px;\n  width: 100%;\n  height: 100vh;\n  padding: 0 30px;\n  position: relative;\n"]))),en=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,145)).then((function(e){var t=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,i=e.getTTFB;t(n),c(n),r(n),a(n),i(n)}))};s.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)($,{})}),document.getElementById("root")),en()}},[[142,1,2]]]);
//# sourceMappingURL=main.8100f706.chunk.js.map